# 会社バージョン マルチエージェントシステム

Claude Code の複数インスタンスを tmux で起動し、会社組織のように協調動作させるシステム。

## 概要

8つの Claude Code エージェント（4部長 + 4メンバー）が、YAMLファイルを通じてコミュニケーションを取りながらタスクを遂行する。

```
┌─────────────────────────────────────┐
│           社長（人間）              │
│     president_request.yaml          │
└─────────────┬───────────────────────┘
              │
┌─────────────▼───────────────────────┐
│         部長セッション (company)     │
│  ┌─────────┬─────────┬─────────┬─────────┐
│  │ 企画部長 │ 開発部長 │デザイン │ QA部長  │
│  │  (0.0)  │  (0.1)  │ (0.2)  │  (0.3)  │
│  └────┬────┴────┬────┴────┬───┴────┬────┘
│       │         │         │        │
└───────┼─────────┼─────────┼────────┼───────┘
        │         │         │        │
┌───────▼─────────▼─────────▼────────▼───────┐
│        メンバーセッション (members)         │
│  ┌─────────┬─────────┬─────────┬─────────┐
│  │企画     │開発     │デザイン │QA       │
│  │メンバー │メンバー │メンバー │メンバー │
│  │  (0.0)  │  (0.1)  │  (0.2)  │  (0.3)  │
│  └─────────┴─────────┴─────────┴─────────┘
└─────────────────────────────────────────────┘
```

## 必要要件

- tmux
- Claude Code CLI (`claude`)

## 起動方法

```bash
./scripts/shukkin.sh
```

全員の出勤後、以下でセッションにアタッチできる:

```bash
# 部長セッション
tmux attach -t company

# メンバーセッション
tmux attach -t members
```

## 使い方

1. `queue/president_request.yaml` に依頼を記載
2. 議長（ローテーション制）に send-keys で通知
3. 部長会議 → 結論 → タスク分配 → メンバー作業 → 報告

議長ローテーション（依頼ID % 4）:
| 余り | 議長 |
|-----|------|
| 0 | 企画部長 |
| 1 | 開発部長 |
| 2 | デザイン部長 |
| 3 | QA部長 |

## ディレクトリ構成

```
.
├── CLAUDE.md           # 全エージェント共通ルール
├── dashboard.md        # 現在の状況一覧
├── config/
│   └── settings.yaml   # システム設定
├── instructions/       # ロール別指示書
│   ├── bucho_*.md      # 部長用
│   └── member_*.md     # メンバー用
├── queue/              # 通信キュー
│   ├── president_request.yaml
│   ├── meeting/        # 会議関連
│   │   ├── agenda.yaml
│   │   ├── opinions/   # 各部長の意見
│   │   └── conclusion.yaml
│   ├── tasks/          # メンバーへのタスク
│   └── reports/        # メンバーからの報告
├── minutes/            # 会議議事録（永続保存）
├── memory/             # Memory MCP 用
├── scripts/
│   └── shukkin.sh      # 出勤スクリプト
├── skills/             # 自動生成スキル
└── templates/          # テンプレート
```

## 通信ルール

- send-keys は必ず2回実行（tmuxの信頼性確保）
- ポーリング禁止（send-keysによる明示的通知のみ）
- 他エージェントの担当YAMLへの書き込み禁止

詳細は `CLAUDE.md` を参照。

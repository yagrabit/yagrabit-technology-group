# 会社バージョン マルチエージェントシステム

Claude Code の複数インスタンスを tmux で起動し、会社組織のように協調動作させるシステム。

## 概要

9つの Claude Code エージェント（1秘書 + 4部長 + 4メンバー）が、YAMLファイルを通じてコミュニケーションを取りながらタスクを遂行する。

```
┌─────────────────────────────────────────────┐
│              社長（人間）                    │
└─────────────────┬───────────────────────────┘
                  │
┌─────────────────▼───────────────────────────┐
│           CEOセッション (ceo)                │
│  ┌─────────────────────────────────────────┐│
│  │              秘書 (0.0)                 ││
│  │          佐藤美咲（さとう みさき）        ││
│  └─────────────────┬───────────────────────┘│
└────────────────────┼────────────────────────┘
                     │ send-keys
┌────────────────────▼────────────────────────┐
│           会社セッション (company)           │
│  ┌─────────┬─────────┬─────────┬─────────┐  │
│  │ 企画部長 │ 開発部長 │デザイン │ QA部長  │  │
│  │  (0.0)  │  (0.1)  │ (0.2)  │  (0.3)  │  │
│  ├─────────┼─────────┼─────────┼─────────┤  │
│  │企画     │開発     │デザイン │QA       │  │
│  │メンバー │メンバー │メンバー │メンバー │  │
│  │  (0.4)  │  (0.5)  │  (0.6)  │  (0.7)  │  │
│  └─────────┴─────────┴─────────┴─────────┘  │
└─────────────────────────────────────────────┘
```

## 必要要件

- tmux
- Claude Code CLI (`claude`)

## 起動方法

```bash
./scripts/shukkin.sh
```

全員の出勤後、以下でセッションにアタッチできる:

```bash
# 秘書セッション（社長の窓口）
tmux attach -t ceo

# 会社セッション（部長 + メンバー）
tmux attach -t company
```

## 使い方

1. `tmux attach -t ceo` で秘書セッションにアタッチ
2. 秘書に依頼内容を伝える
3. 秘書が `president_request.yaml` を作成し、議長に通知
4. 部長会議 → 結論 → タスク分配 → メンバー作業 → 報告
5. 秘書が社長に完了を報告

議長ローテーション（依頼ID % 4）:
| 余り | 議長 |
|-----|------|
| 0 | 企画部長 |
| 1 | 開発部長 |
| 2 | デザイン部長 |
| 3 | QA部長 |

## ディレクトリ構成

```
.
├── CLAUDE.md           # 全エージェント共通ルール
├── dashboard.md        # 現在の状況一覧
├── config/
│   └── settings.yaml   # システム設定
├── instructions/       # ロール別指示書
│   ├── hisho.md        # 秘書用
│   ├── bucho_*.md      # 部長用
│   └── member_*.md     # メンバー用
├── queue/              # 通信キュー
│   ├── president_request.yaml
│   ├── meeting/        # 会議関連
│   │   ├── agenda.yaml
│   │   ├── opinions/   # 各部長の意見
│   │   └── conclusion.yaml
│   ├── tasks/          # メンバーへのタスク
│   └── reports/        # メンバーからの報告
├── minutes/            # 会議議事録（永続保存）
├── memory/             # Memory MCP 用
│   └── hisho_private.md # 秘書専用プライベート記憶
├── scripts/
│   └── shukkin.sh      # 出勤スクリプト
├── skills/             # 自動生成スキル
└── templates/          # テンプレート
```

## 通信ルール

- send-keys は必ず2回実行（tmuxの信頼性確保）
- ポーリング禁止（send-keysによる明示的通知のみ）
- 他エージェントの担当YAMLへの書き込み禁止

詳細は `CLAUDE.md` を参照。
